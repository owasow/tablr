% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/titlecase.R
\name{protect_caps_for_csl}
\alias{protect_caps_for_csl}
\title{Protect Abbreviations from CSL Case Conversion}
\usage{
protect_caps_for_csl(
  text,
  protect_dotted = TRUE,
  protect_single_letter = TRUE,
  protect_acronyms = c("AIDS", "HIV", "COVID", "SARS", "MERS", "DNA", "RNA", "PCR",
    "CRISPR", "NATO", "UNESCO", "UNICEF", "WHO", "API", "SQL", "HTML", "CSS", "JSON",
    "XML", "OLS", "IV", "RCT", "DID", "RDD", "LATE", "GMM", "MLE", "MCMC", "HLM", "SEM",
    "ANES", "GSS", "CPS", "ACS", "CCES", "CMPS", "US", "UK", "EU", "UN", "GDP", "GNP",
    "LGBTQ", "LGBT", "CEO", "CFO", "NGO", "IRB", "NSF", "NIH", "DOJ", "DOD")
)
}
\arguments{
\item{text}{Character string (typically a BibTeX title field)}

\item{protect_dotted}{Logical. If TRUE (default), protect dotted
abbreviations like U.S., U.K., E.U.}

\item{protect_single_letter}{Logical. If TRUE (default), protect single
uppercase letters that are likely programming languages or abbreviations
(R, C, S, Q, J) but not common words (A, I).}

\item{protect_acronyms}{Character vector of specific acronyms to wrap in
braces. Default includes common terms that CSL might lowercase.}
}
\value{
Character string with protected terms wrapped in braces
}
\description{
Wraps abbreviations and acronyms in braces to protect them from being
lowercased by CSL (Citation Style Language) text-case transformations.
This is necessary because CSL processors ignore BibTeX brace protection
and apply their own case rules.
}
\details{
CSL (Citation Style Language) processors like Pandoc's citeproc apply
their own case conversion rules that ignore BibTeX's brace protection.
When a CSL style specifies \code{text-case="title"} or
\code{text-case="sentence"}, terms like "U.S." become "u.s." and "R"
becomes "r".

This function adds BibTeX braces around terms that need protection:
\itemize{
\item Dotted abbreviations: U.S. -> \{U.S.\}, U.K. -> \{U.K.\}
\item Single-letter languages/tools: R -> \{R\}, C -> \{C\}
\item Explicit acronyms: AIDS -> \{AIDS\}, COVID -> \{COVID\}
}

The braces tell BibTeX (and some CSL processors) to preserve the exact
capitalization.
}
